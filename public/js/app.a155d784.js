(function(){"use strict";var e={4811:function(e,t,n){n(4415);var r=n(9242),o=n(3396),a=n(4870),i=n(1229),_=n(3014),s=n(7139),E=n(678);const u={class:"top_menu"},l=(0,o.Uk)(" Добавить оборудование "),c=(0,o.Uk)(" Список оборудования ");var T=(0,o.aZ)({setup(e){const t=(0,o.Fl)((()=>({top_menu__link:!0,top_menu__link_active:"AddEquipment"===(0,E.yj)().name}))),n=(0,o.Fl)((()=>({top_menu__link:!0,top_menu__link_active:"EquipmentList"===(0,E.yj)().name})));return(e,r)=>{const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",u,[(0,o.Wm)(i,{to:{name:"AddEquipment"},class:(0,s.C_)((0,a.SU)(t))},{default:(0,o.w5)((()=>[l])),_:1},8,["class"]),(0,o.Wm)(i,{to:{name:"EquipmentList"},class:(0,s.C_)((0,a.SU)(n))},{default:(0,o.w5)((()=>[c])),_:1},8,["class"])])}}});const m=T;var p=m,S=n(9962),d=n(2328),N=n(4165);const f={class:"loading_screen"},R=["src"];var h=(0,o.aZ)({setup(e){const t=(0,N.oR)(),n=(0,o.Fl)((()=>t.getters[S.iO.LOADING_FLAG]));return(e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("img",{src:(0,a.SU)(d),alt:"loading",class:"loading_screen__loading_icon"},null,8,R)],512)),[[r.F8,(0,a.SU)(n)]])}});const O=h;var U=O;const g={class:"content_wrapper"};var P=(0,o.aZ)({setup(e){return(e,t)=>{const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)((0,a.SU)(i.BR),{locale:(0,a.SU)(_.Z)},{default:(0,o.w5)((()=>[(0,o.Wm)(p),(0,o._)("div",g,[((0,o.wg)(),(0,o.j4)(n,{key:e.$route.path}))]),(0,o.Wm)(U)])),_:1},8,["locale"])}}});const A=P;var I=A,v=n(238);(0,r.ri)(I).use(N.h,N.Jy).use(v.Z).mount("#app")},238:function(e,t,n){var r=n(678),o=n(9298);const a=[{path:"/",redirect:{name:"AddEquipment"}},{path:"/add-equipment",name:"AddEquipment",component:()=>Promise.resolve().then(n.bind(n,9298))},{path:"/edit-equipment/:id",name:"EditEquipment",component:()=>Promise.resolve().then(n.bind(n,9298))},{path:"/equipment-list/:pageNumber?",name:"EquipmentList",component:()=>n.e(813).then(n.bind(n,4813))},{path:"/:catchAll(.*)",name:"PageNotFound",component:o["default"]}],i=(0,r.p7)({history:(0,r.PO)("/"),routes:a});t["Z"]=i},2565:function(e,t,n){var r,o,a;n.d(t,{C:function(){return o},HZ:function(){return a},r1:function(){return r}}),function(e){e["EQUIPMENT_LIST"]="EQUIPMENT_LIST",e["TOTAL_COUNT"]="TOTAL_COUNT",e["PAGE_COUNT"]="PAGE_COUNT",e["CURRENT_PAGE"]="CURRENT_PAGE",e["PER_PAGE"]="PER_PAGE",e["ACTUAL_EQUIPMENT_COUNT_ON_CURRENT_PAGE"]="ACTUAL_EQUIPMENT_COUNT_ON_CURRENT_PAGE",e["EQUIPMENT_TYPE_LIST"]="EQUIPMENT_TYPE_LIST",e["SINGLE_EQUIPMENT"]="SINGLE_EQUIPMENT",e["SEARCH_OBJECT"]="SEARCH_OBJECT"}(r||(r={})),function(e){e["SET_EQUIPMENT"]="SET_EQUIPMENT",e["SET_TOTAL_COUNT"]="SET_TOTAL_COUNT",e["SET_PAGE_COUNT"]="SET_PAGE_COUNT",e["SET_CURRENT_PAGE"]="SET_CURRENT_PAGE",e["SET_PER_PAGE"]="SET_PER_PAGE",e["SET_SINGLE_EQUIPMENT"]="SET_SINGLE_EQUIPMENT",e["SET_EQUIPMENT_TYPES"]="SET_EQUIPMENT_TYPES",e["SET_SEARCH_OBJECT"]="SET_SEARCH_OBJECT"}(o||(o={})),function(e){e["LOAD_EQUIPMENT"]="LOAD_EQUIPMENT",e["LOAD_SINGLE_EQUIPMENT"]="LOAD_SINGLE_EQUIPMENT",e["LOAD_EQUIPMENT_TYPES"]="LOAD_EQUIPMENT_TYPES",e["SAVE_EQUIPMENT"]="SAVE_EQUIPMENT",e["UPDATE_EQUIPMENT"]="UPDATE_EQUIPMENT",e["DELETE_EQUIPMENT"]="DELETE_EQUIPMENT",e["VALIDATE_SAVE_FORM"]="VALIDATE_SAVE_FORM",e["SEARCH_EQUIPMENT"]="SEARCH_EQUIPMENT"}(a||(a={}))},2206:function(e,t,n){var r,o;n.d(t,{D:function(){return o},S:function(){return r}}),function(e){e["GET_FORM_ERROR"]="GET_FORM_ERROR",e["GET_REPEATED_SERIAL_NUMBERS"]="GET_REPEATED_SERIAL_NUMBERS",e["GET_MISMATCHING_SERIAL_NUMBERS"]="GET_MISMATCHING_SERIAL_NUMBERS",e["GET_NON_UNIQUE_SERIAL_NUMBERS"]="GET_NON_UNIQUE_SERIAL_NUMBERS"}(r||(r={})),function(e){e["SET_FORM_ERROR"]="SET_FORM_ERROR",e["RESET_FORM_ERROR"]="RESET_FORM_ERROR"}(o||(o={}))},4165:function(e,t,n){n.d(t,{Jy:function(){return ie},h:function(){return se},oR:function(){return _e}});var r=n(65),o=n(9962);const a={httpError:""};var i=a;const _={httpError:e=>e.httpError};var s,E,u=_;(function(e){e["SET_HTTP_ERROR"]="SET_HTTP_ERROR",e["RESET_HTTP_ERROR"]="RESET_HTTP_ERROR"})(s||(s={})),function(e){e["GET_JSON"]="GET_JSON",e["POST_JSON"]="POST_JSON",e["DELETE_JSON"]="DELETE_JSON",e["PUT_JSON"]="PUT_JSON"}(E||(E={}));const l={[s.SET_HTTP_ERROR](e,t){e.httpError=t},[s.RESET_HTTP_ERROR](e){e.httpError=""}};var c=l;function T(e){const t=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")}=([^;]*)`));return t?decodeURIComponent(t[1]):void 0}const m={[E.GET_JSON]({commit:e,rootState:t},n){return fetch(t.tokenUrl,{method:"GET"}).then((()=>(e(s.RESET_HTTP_ERROR),fetch(t.apiUrlPrefix+n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-XSRF-TOKEN":`${T("XSRF-TOKEN")}`}}).then((e=>e.json())).catch((t=>{console.log(t);const n="Ошибка get-запроса.";e(s.SET_HTTP_ERROR,n)})))))}};var p=m;const S={[E.POST_JSON]({commit:e,rootState:t},n){return fetch(t.tokenUrl,{method:"GET"}).then((()=>{const{url:r,data:o}=n;return e(s.RESET_HTTP_ERROR),fetch(t.apiUrlPrefix+r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-XSRF-TOKEN":`${T("XSRF-TOKEN")}`},body:JSON.stringify(o)}).then((e=>e.json())).catch((t=>{console.log(t);const n="Ошибка post-запроса.";e(s.SET_HTTP_ERROR,n)}))}))}};var d=S;const N={[E.PUT_JSON]({commit:e,rootState:t},n){return fetch(t.tokenUrl,{method:"GET"}).then((()=>{const{url:r,data:o}=n;return e(s.RESET_HTTP_ERROR),fetch(t.apiUrlPrefix+r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","X-XSRF-TOKEN":`${T("XSRF-TOKEN")}`},body:JSON.stringify(o)}).then((e=>e.json())).catch((t=>{console.log(t);const n="Ошибка put-запроса.";e(s.SET_HTTP_ERROR,n)}))}))}};var f=N;const R={[E.DELETE_JSON]({commit:e,rootState:t},n){return fetch(t.tokenUrl,{method:"GET"}).then((()=>(e(s.RESET_HTTP_ERROR),fetch(t.apiUrlPrefix+n,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","X-XSRF-TOKEN":`${T("XSRF-TOKEN")}`}}).then((e=>e.json())).catch((t=>{console.log(t);const n="Ошибка delete-запроса.";e(s.SET_HTTP_ERROR,n)})))))}};var h=R;const O={state:i,getters:u,mutations:c,actions:{...p,...d,...f,...h}};var U=O;const g={url:{list:"/equipment",single:"/equipment",add:"/equipment",update:"/equipment",delete:"/equipment",search:"/search-equipment",listOfTypes:"/equipment-types"},equipment:[],totalCount:0,pageCount:0,currentPage:0,perPage:5,equipmentTypes:[],singleEquipment:{id:0,typeData:{typeId:0,typeMask:"",typeName:""},serialNumber:"",comment:""},searchObject:{field:"",text:""}};var P=g,A=n(2565);const I={[A.r1.EQUIPMENT_LIST]:e=>e.equipment,[A.r1.ACTUAL_EQUIPMENT_COUNT_ON_CURRENT_PAGE]:e=>e.equipment.length,[A.r1.TOTAL_COUNT]:e=>e.totalCount,[A.r1.PAGE_COUNT]:e=>e.pageCount,[A.r1.CURRENT_PAGE]:e=>e.currentPage,[A.r1.PER_PAGE]:e=>e.perPage,[A.r1.EQUIPMENT_TYPE_LIST]:e=>e.equipmentTypes,[A.r1.SINGLE_EQUIPMENT]:e=>({...e.singleEquipment}),[A.r1.SEARCH_OBJECT]:e=>({...e.searchObject})};var v=I;const b={[A.C.SET_EQUIPMENT](e,t){e.equipment=[...t]},[A.C.SET_TOTAL_COUNT](e,t){e.totalCount=t},[A.C.SET_PAGE_COUNT](e,t){e.pageCount=t},[A.C.SET_CURRENT_PAGE](e,t){e.currentPage=t},[A.C.SET_PER_PAGE](e,t){e.perPage=t},[A.C.SET_SINGLE_EQUIPMENT](e,t){e.singleEquipment={...t}},[A.C.SET_SEARCH_OBJECT](e,t){e.searchObject={...t}},[A.C.SET_EQUIPMENT_TYPES](e,t){e.equipmentTypes=[...t]}};var L=b;const y={[A.HZ.LOAD_EQUIPMENT_TYPES]({dispatch:e,commit:t,state:n}){const r=n.url.listOfTypes;t(o.c_.SET_LOADING_FLAG,!0,{root:!0}),e(E.GET_JSON,r,{root:!0}).then((e=>{t(A.C.SET_EQUIPMENT_TYPES,e.data)})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),500)}))}};var M=y,G=n(2206);function C(e){const t={},n=e.serialNumber.replaceAll(" ","");if(0===e.typeData.typeId&&(t.typeId=t?.typeId?t.typeId:[],t.typeId.push("Укажите тип оборудования")),0===n.length){t.serialNumber=t?.serialNumber?t.serialNumber:[];const n=e.id?"Введите серийный номер":"Введите серийные номера";t.serialNumber.push(n)}if(n.length>0){const n=e.serialNumber.split("\n"),r=n.filter(((e,t,n)=>n.lastIndexOf(e)!==t));r.length>0&&(t.repeatedSerialNumber=t?.repeatedSerialNumber?t.repeatedSerialNumber:[],t.repeatedSerialNumber.push(r.join("<br>")))}return Object.keys(t).length>0?t:null}function D(e){const t={N:"[0-9]{1}",A:"[A-Z]{1}",a:"[a-z]{1}",X:"[A-Z0-9]{1}",Z:"[-_@]{1}"},n=[...e].map((e=>t[e]));return`^${n.join("")}$`}function F(e,t){const n=e.split("\n"),r=n.filter((e=>e.length>0)),o=new RegExp(t);return r.filter((e=>!o.test(e)))}var q=n(238),H=n(473);const k={[A.HZ.SAVE_EQUIPMENT]({dispatch:e,commit:t,state:n},r){t(G.D.RESET_FORM_ERROR,null,{root:!0});const a=C(r);if(a)return void t(G.D.SET_FORM_ERROR,a,{root:!0});const i=D(r.typeData.typeMask),_=F(r.serialNumber,i);if(_.length>0){const e={mismatchingSerialNumber:_};return void t(G.D.SET_FORM_ERROR,e,{root:!0})}t(o.c_.SET_LOADING_FLAG,!0,{root:!0});const s=n.url.add;e(E.POST_JSON,{url:s,data:r},{root:!0}).then((e=>{if(e?.backValidatorErrors?.serialNumber){const n=e.backValidatorErrors.serialNumber[0].split(","),r={nonUniqueSerialNumber:n};t(G.D.SET_FORM_ERROR,r,{root:!0})}else e.saveSuccess&&((0,H.z8)({message:"Оборудование добавлено.",type:"success",duration:1500,offset:300,customClass:"el-message_custom"}),q.Z.push({name:"EquipmentList"}))})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),500)}))}};var Q=k;const w={[A.HZ.VALIDATE_SAVE_FORM]({commit:e},t){e(G.D.RESET_FORM_ERROR,null,{root:!0});const n=C(t);e(G.D.SET_FORM_ERROR,n,{root:!0})}};var j=w;const J={[A.HZ.LOAD_EQUIPMENT]({dispatch:e,commit:t,getters:n,state:r},a=1){const i=`${r.url.list}?page=${a}&per_page=${n[A.r1.PER_PAGE]}`;t(o.c_.SET_LOADING_FLAG,!0,{root:!0}),e(E.GET_JSON,i,{root:!0}).then((e=>{t(A.C.SET_EQUIPMENT,e.data),t(A.C.SET_TOTAL_COUNT,e.meta.total),t(A.C.SET_PAGE_COUNT,e.meta.last_page),t(A.C.SET_CURRENT_PAGE,e.meta.current_page)})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),300)}))}};var x=J;const $={[A.HZ.DELETE_EQUIPMENT]({dispatch:e,commit:t,state:n},r){t(o.c_.SET_LOADING_FLAG,!0,{root:!0});const a=`${n.url.delete}/${r}`;return e(E.DELETE_JSON,a,{root:!0}).then((e=>e.success)).catch((()=>!1)).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),500)}))}};var Z=$;const V={[A.HZ.LOAD_SINGLE_EQUIPMENT]({dispatch:e,commit:t,state:n},r){const a=`${n.url.single}/${r}`;t(o.c_.SET_LOADING_FLAG,!0,{root:!0}),e(E.GET_JSON,a,{root:!0}).then((e=>{t(A.C.SET_SINGLE_EQUIPMENT,e)})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),500)}))}};var B=V;const Y={[A.HZ.UPDATE_EQUIPMENT]({dispatch:e,commit:t,getters:n,state:r},a){t(G.D.RESET_FORM_ERROR,null,{root:!0});const i=C(a);if(i)return void t(G.D.SET_FORM_ERROR,i,{root:!0});const _=D(a.typeData.typeMask),s=F(a.serialNumber,_);if(s.length>0){const e={mismatchingSerialNumber:s};return void t(G.D.SET_FORM_ERROR,e,{root:!0})}t(o.c_.SET_LOADING_FLAG,!0,{root:!0});const u=`${r.url.update}/${a.id}`;e(E.PUT_JSON,{url:u,data:a},{root:!0}).then((e=>{if(e?.backValidatorErrors?.serialNumber){const n=e.backValidatorErrors.serialNumber[0].split(","),r={nonUniqueSerialNumber:n};t(G.D.SET_FORM_ERROR,r,{root:!0})}else e.saveSuccess&&((0,H.z8)({message:"Оборудование отредактировано.",type:"success",duration:1500,offset:300,customClass:"el-message_custom"}),q.Z.push({name:"EquipmentList",params:{pageNumber:n[A.r1.CURRENT_PAGE]}}))})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),300)}))}};var K=Y;const X={[A.HZ.SEARCH_EQUIPMENT]({dispatch:e,commit:t,getters:n,state:r},a){const{searchObject:i,pageNumber:_}=a;t(o.c_.SET_LOADING_FLAG,!0,{root:!0});const s=`${r.url.search}?page=${_}&per_page=${n[A.r1.PER_PAGE]}`;e(E.POST_JSON,{url:s,data:i},{root:!0}).then((e=>{t(A.C.SET_EQUIPMENT,e.data),t(A.C.SET_TOTAL_COUNT,e.meta.total),t(A.C.SET_PAGE_COUNT,e.meta.last_page),t(A.C.SET_CURRENT_PAGE,e.meta.current_page)})).finally((()=>{setTimeout((()=>{t(o.c_.SET_LOADING_FLAG,!1,{root:!0})}),300)}))}};var z=X;const W={namespaced:!0,state:P,getters:v,mutations:L,actions:{...M,...Q,...j,...x,...Z,...B,...K,...z}};var ee=W;const te={formError:{}},ne={[G.S.GET_FORM_ERROR]:e=>t=>{const n=e.formError;return t&&Object.prototype.hasOwnProperty.call(n,t)?n[t][0]:""},[G.S.GET_REPEATED_SERIAL_NUMBERS]:e=>{const t="repeatedSerialNumber",n=e.formError;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:[]},[G.S.GET_MISMATCHING_SERIAL_NUMBERS]:e=>{const t="mismatchingSerialNumber",n=e.formError;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:[]},[G.S.GET_NON_UNIQUE_SERIAL_NUMBERS]:e=>{const t="nonUniqueSerialNumber",n=e.formError;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:[]}},re={[G.D.SET_FORM_ERROR](e,t){e.formError={...t}},[G.D.RESET_FORM_ERROR](e){e.formError={}}},oe={state:te,getters:ne,mutations:re};var ae=oe;const ie=Symbol("storeKey");function _e(){return(0,r.oR)(ie)}const se=(0,r.MT)({state:{tokenUrl:"/sanctum/csrf-cookie",apiUrlPrefix:"/api",loadingFlag:!1},getters:{[o.iO.LOADING_FLAG]:e=>e.loadingFlag},mutations:{[o.c_.SET_LOADING_FLAG](e,t){e.loadingFlag=t}},actions:{},modules:{http:U,equipment:ee,formError:ae}})},9962:function(e,t,n){var r,o,a;n.d(t,{JV:function(){return a},c_:function(){return o},iO:function(){return r}}),function(e){e["LOADING_FLAG"]="LOADING_FLAG"}(r||(r={})),function(e){e["SET_LOADING_FLAG"]="SET_LOADING_FLAG"}(o||(o={})),function(e){e["EQUIPMENT"]="equipment"}(a||(a={}))},9298:function(e,t,n){n.r(t),n.d(t,{default:function(){return _e}});var r=n(3396),o=n(7139),a=n(4870),i=n(9242),_=n(9962),s=n(2565),E=n(4165);function u(){const e=(0,E.oR)(),t=(0,r.Fl)((()=>[...e.getters[`${_.JV.EQUIPMENT}/${s.r1.EQUIPMENT_TYPE_LIST}`]]));return(0,r.bv)((()=>{e.dispatch(`${_.JV.EQUIPMENT}/${s.HZ.LOAD_EQUIPMENT_TYPES}`)})),{equipmentTypes:t}}var l=n(2482);class c{static fit(e,t){if(t&&(c.minimumHeight=t),c._hasIncreaseInTextareaLength(e))return c.prevLength=e.value.length,e.clientHeight>500?void(e.style.overflowY="auto"):void c._increaseTextareaHeight(e);c._hasDecreaseInTextareaLength(e)&&(c._decreaseTextareaHeight(e),setTimeout((()=>{c.fit(e)}),10))}static _hasIncreaseInTextareaLength(e){return e.scrollHeight>e.clientHeight}static _hasDecreaseInTextareaLength(e){return e.value.length/c.prevLength<.95&&(c.prevLength=e.value.length,!0)}static _increaseTextareaHeight(e){e.style.height=e.scrollHeight+10+"px"}static _decreaseTextareaHeight(e){e.style.overflowY="hidden",c._decreaseHeight(e)}static _decreaseHeight(e){e.clientHeight<c.minimumHeight||(e.scrollHeight>e.clientHeight?e.style.height=e.scrollHeight+15+"px":(e.style.height=e.clientHeight-5+"px",setTimeout((()=>{c._decreaseHeight(e)}),1)))}}function T(){const e=(0,a.iH)(0);function t(t){0===e.value&&(e.value=t.target.clientHeight),c.fit(t.target,e.value)}return{fitTextareaHeight:t}}(0,l.Z)(c,"prevLength",0),(0,l.Z)(c,"minimumHeight",10);var m=n(2206);function p(e){const t=(0,E.oR)(),n=(0,r.Fl)((()=>[...t.getters[m.S.GET_MISMATCHING_SERIAL_NUMBERS]])),o=(0,r.Fl)((()=>[...t.getters[m.S.GET_NON_UNIQUE_SERIAL_NUMBERS]])),i=(0,r.Fl)((()=>[...t.getters[m.S.GET_REPEATED_SERIAL_NUMBERS]])),u=(0,r.Fl)((()=>e.serialNumber)),l=(0,a.qj)({typeId:(0,r.Fl)((()=>t.getters[m.S.GET_FORM_ERROR]("typeId"))),serialNumber:(0,r.Fl)((()=>t.getters[m.S.GET_FORM_ERROR]("serialNumber"))),repeatedSerialNumber:i,mismatchingSerialNumber:n,nonUniqueSerialNumber:o});function c(t){const n=e.serialNumber.split("\n"),r=n.filter((e=>!t.includes(e)));e.serialNumber=r.join("\n")}function T(){t.dispatch(`${_.JV.EQUIPMENT}/${s.HZ.VALIDATE_SAVE_FORM}`,e)}return(0,r.YP)(u,(t=>{let n=t.replaceAll(" ","");n=n.replaceAll(",","\n"),n=n.replaceAll("\n\n","\n"),e.id&&([n]=n.split("\n")),e.serialNumber=n})),(0,r.YP)(n,(t=>{t.length&&(e.id||c(t))})),(0,r.YP)(o,(t=>{t.length&&(e.id||c(t))})),(0,r.bv)((()=>{t.commit(m.D.RESET_FORM_ERROR)})),{error:l,validateForm:T}}function S(e){const t=e.split("\n");return Array.from(new Set(t)).join("\n")}function d(e){const t=(0,E.oR)();function n(){e.id?t.dispatch(`${_.JV.EQUIPMENT}/${s.HZ.UPDATE_EQUIPMENT}`,e):(e.serialNumber=S(e.serialNumber),t.dispatch(`${_.JV.EQUIPMENT}/${s.HZ.SAVE_EQUIPMENT}`,e))}return{saveEquipment:n}}var N=n(678);function f(){const e=(0,E.oR)(),t=(0,r.Fl)((()=>e.getters[`${_.JV.EQUIPMENT}/${s.r1.SINGLE_EQUIPMENT}`])),n=(0,N.yj)();return(0,r.bv)((()=>{n?.params?.id&&e.dispatch(`${_.JV.EQUIPMENT}/${s.HZ.LOAD_SINGLE_EQUIPMENT}`,n.params.id)})),{singleEquipment:t}}const R={class:"content_block content_block_of_equipment_form"},h={class:"equipment_form__input_container"},O=(0,r._)("p",{class:"equipment_form__property_header"},"Тип оборудования",-1),U=["value"],g={class:"equipment_form__input_container"},P={class:"equipment_form__property_header"},A=["innerHTML"],I={class:"equipment_form__validation_message_black"},v=(0,r.Uk)(" Ниже указаны номера присутствующие в вашем списке более 1 раза: "),b=(0,r._)("br",null,null,-1),L=["innerHTML"],y=(0,r._)("br",null,null,-1),M=(0,r._)("br",null,null,-1),G=(0,r._)("span",{class:"equipment_form__validation_message_black_bold"}," Повторения этих номеров будут исключены из вашего списка при сохранении. ",-1),C={class:"equipment_form__validation_message_black"},D=(0,r.Uk)(" Ниже указаны номера не соответствующие выбранной маске "),F=["textContent"],q=(0,r.Uk)(", эти номера исключены из списка:"),H=(0,r._)("br",null,null,-1),k=["innerHTML"],Q=(0,r._)("br",null,null,-1),w=(0,r._)("br",null,null,-1),j={key:0,class:"equipment_form__validation_message_black_bold"},J={class:"equipment_form__validation_message"},x=(0,r.Uk)(" Введенный номер не соответствует выбранной маске "),$=["textContent"],Z={class:"equipment_form__validation_message_black"},V=(0,r.Uk)(" Ниже указаны номера которые уже есть в базе, эти номера исключены из списка:"),B=(0,r._)("br",null,null,-1),Y=["innerHTML"],K=(0,r._)("br",null,null,-1),X=(0,r._)("br",null,null,-1),z={key:0,class:"equipment_form__validation_message_black_bold"},W={class:"equipment_form__validation_message"},ee={class:"equipment_form__input_container"},te=(0,r._)("p",{class:"equipment_form__property_header"},"Примечание",-1);var ne=(0,r.aZ)({setup(e){const t=(0,a.qj)({id:0,typeData:{typeId:0,typeMask:"",typeName:""},serialNumber:"",comment:""}),{equipmentTypes:n}=u(),{fitTextareaHeight:_}=T(),{error:s,validateForm:E}=p(t),{saveEquipment:l}=d(t),{singleEquipment:c}=f();return(0,r.YP)(c,(e=>{e?.id&&Object.assign(t,e)})),(e,u)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h1",null,(0,o.zw)((0,a.SU)(t).id?"Редактировать оборудование":"Добавить оборудование"),1),(0,r._)("div",R,[(0,r._)("div",h,[O,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":u[0]||(u[0]=e=>(0,a.SU)(t).typeData=e),onChange:u[1]||(u[1]=(...e)=>(0,a.SU)(E)&&(0,a.SU)(E)(...e)),class:"equipment_form__select_input"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(n),(e=>((0,r.wg)(),(0,r.iD)("option",{value:{typeId:e.id,typeMask:e.mask,typeName:e.name},key:e.id},(0,o.zw)(e.name),9,U)))),128))],544),[[i.bM,(0,a.SU)(t).typeData]]),(0,r.wy)((0,r._)("p",{class:"equipment_form__validation_message"},(0,o.zw)((0,a.SU)(s).typeId),513),[[i.F8,(0,a.SU)(s).typeId]])]),(0,r._)("div",g,[(0,r._)("p",P,(0,o.zw)((0,a.SU)(t).id?"Серийный номер":"Серийные номера"),1),(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":u[2]||(u[2]=e=>(0,a.SU)(t).serialNumber=e),onKeyup:u[3]||(u[3]=e=>{(0,a.SU)(_)(e)}),onClick:u[4]||(u[4]=e=>{(0,a.SU)(_)(e)}),onInput:u[5]||(u[5]=e=>{(0,a.SU)(_)(e),(0,a.SU)(E)()}),class:"equipment_form__textarea_input"},"\n        ",544),[[i.nr,(0,a.SU)(t).serialNumber]]),(0,r.wy)((0,r._)("p",{innerHTML:(0,a.SU)(s).serialNumber,class:"equipment_form__validation_message"},null,8,A),[[i.F8,(0,a.SU)(s).serialNumber]]),(0,r.wy)((0,r._)("p",I,[v,b,(0,r._)("span",{innerHTML:(0,a.SU)(s).repeatedSerialNumber,class:"equipment_form__validation_message"},null,8,L),y,M,G],512),[[i.F8,(0,a.SU)(s).repeatedSerialNumber.length]]),(0,r.wy)((0,r._)("p",C,[D,(0,r._)("span",{textContent:(0,o.zw)((0,a.SU)(t).typeData.typeMask),class:"equipment_form__validation_message"},null,8,F),q,H,(0,r._)("span",{innerHTML:(0,a.SU)(s).mismatchingSerialNumber.join("<br>"),class:"equipment_form__validation_message"},null,8,k),Q,w,(0,a.SU)(t).serialNumber.length>0?((0,r.wg)(),(0,r.iD)("span",j," Нажмите кнопку «Сохранить» чтобы сохранить оставшийся список. ")):(0,r.kq)("",!0)],512),[[i.F8,!(0,a.SU)(t).id&&(0,a.SU)(s).mismatchingSerialNumber.length]]),(0,r.wy)((0,r._)("p",J,[x,(0,r._)("span",{textContent:(0,o.zw)((0,a.SU)(t).typeData.typeMask),class:"equipment_form__validation_message_black_bold"},null,8,$)],512),[[i.F8,(0,a.SU)(t).id&&(0,a.SU)(s).mismatchingSerialNumber.length]]),(0,r.wy)((0,r._)("p",Z,[V,B,(0,r._)("span",{innerHTML:(0,a.SU)(s).nonUniqueSerialNumber.join("<br>"),class:"equipment_form__validation_message"},null,8,Y),K,X,(0,a.SU)(t).serialNumber.length>0?((0,r.wg)(),(0,r.iD)("span",z," Нажмите кнопку «Сохранить» чтобы сохранить оставшийся список. ")):(0,r.kq)("",!0)],512),[[i.F8,!(0,a.SU)(t).id&&(0,a.SU)(s).nonUniqueSerialNumber.length]]),(0,r.wy)((0,r._)("p",W," Такой номер уже есть в базе ",512),[[i.F8,(0,a.SU)(t).id&&(0,a.SU)(s).nonUniqueSerialNumber.length]])]),(0,r._)("div",ee,[te,(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":u[6]||(u[6]=e=>(0,a.SU)(t).comment=e),onKeyup:u[7]||(u[7]=e=>{(0,a.SU)(_)(e)}),onClick:u[8]||(u[8]=e=>{(0,a.SU)(_)(e)}),onInput:u[9]||(u[9]=e=>{(0,a.SU)(_)(e)}),class:"equipment_form__textarea_input"},"\n        ",544),[[i.nr,(0,a.SU)(t).comment]])]),(0,r._)("button",{class:"equipment_form__add_button",onClick:u[10]||(u[10]=(...e)=>(0,a.SU)(l)&&(0,a.SU)(l)(...e))}," Сохранить ")])]))}});const re=ne;var oe=re,ae=(0,r.aZ)({setup(e){return(e,t)=>((0,r.wg)(),(0,r.j4)(oe))}});const ie=ae;var _e=ie},2328:function(e,t,n){e.exports=n.p+"img/spinner.9413db25.gif"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var _=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(_=!1,a<i&&(i=a));if(_){e.splice(u--,1);var E=o();void 0!==E&&(t=E)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".70de42dd.js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".1b56bb71.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";n.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var _,s;if(void 0!==a)for(var E=document.getElementsByTagName("script"),u=0;u<E.length;u++){var l=E[u];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+a){_=l;break}}_||(s=!0,_=document.createElement("script"),_.charset="utf-8",_.timeout=120,n.nc&&_.setAttribute("nonce",n.nc),_.setAttribute("data-webpack",t+a),_.src=r),e[r]=[o];var c=function(t,n){_.onerror=_.onload=null,clearTimeout(T);var o=e[r];if(delete e[r],_.parentNode&&_.parentNode.removeChild(_),o&&o.forEach((function(e){return e(n)})),t)return t(n)},T=setTimeout(c.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=c.bind(null,_.onerror),_.onload=c.bind(null,_.onload),s&&document.head.appendChild(_)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)n();else{var i=a&&("load"===a.type?"missing":a.type),_=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+_+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=i,s.request=_,o.parentNode.removeChild(o),r(s)}};return o.onerror=o.onload=a,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){o=i[r],a=o.getAttribute("data-href");if(a===e||a===t)return o}},r=function(r){return new Promise((function(o,a){var i=n.miniCssF(r),_=n.p+i;if(t(i,_))return o();e(r,_,o,a)}))},o={143:0};n.f.miniCss=function(e,t){var n={813:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var i=n.p+n.u(t),_=new Error,s=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;_.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",_.name="ChunkLoadError",_.type=a,_.request=i,o[1](_)}};n.l(i,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],_=r[1],s=r[2],E=0;if(i.some((function(t){return 0!==e[t]}))){for(o in _)n.o(_,o)&&(n.m[o]=_[o]);if(s)var u=s(n)}for(t&&t(r);E<i.length;E++)a=i[E],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4811)}));r=n.O(r)})();
//# sourceMappingURL=app.a155d784.js.map